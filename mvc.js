(function(a){var b={},c=function(d){var e=b[d];if(!e){e=b[d]={};var f=e.exports={};a[d].call(f,c,e,f,window)}return e.exports};c("0")})({0:function(a,b,c,d){var e=a("1"),f=a("j"),g=a("k");d.View=e,d.Model=f,d.Controller=g},1:function(a,b,c,d){b.exports=a("2")("view")},2:function(a,b,c,d){var e=a("3"),f=a("4"),g=a("h"),h=a("i"),i={};b.exports=function(a){var b=i[a]=0;return function(c){c.inherits=f;var d=c.constructor;return c.mutator=g,c.constructor=function(){d&&d.apply(this,arguments),this.setPrefix(a+"."+b),b++},c.hook=h,e(c)}}},3:function(a,b,c,d){"use strict";var e=function(a,b){return Object.hasOwnProperty.call(a,b)},f=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a)===!1)break;return a};if(!{valueOf:0}.propertyIsEnumerable("valueOf")){var g="constructor,toString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString".split(","),h=Object.prototype;f=function(a,b,c){var d=g.length,e,f;for(e in a)if(b.call(c,a[e],e,a)===!1)return a;while(d--){e=g[d],f=a[e];if(f!==h[e]&&b.call(c,f,e,a)===!1)break}return a}}var i=Object.create||function(a){var b=function(){};return b.prototype=a,new b},j=function(a,b){this.prototype[a]=b},k=function(a){return f(a,function(a,b){b!=="constructor"&&b!=="inherits"&&b!=="mutator"&&this.mutator(b,a)},this),this},l=function(a){var b=a.inherits,c;b&&(c=b.prototype);var d=e(a,"constructor")?a.constructor:b?function(){return c.constructor.apply(this,arguments)}:function(){};if(b){var f=d.prototype=i(c);d.parent=c,f.constructor=d}return d.mutator=a.mutator||b&&b.mutator||j,d.implement=k,d.implement(a)};l.each=f,l.has=e,l.create=i,b.exports=l},4:function(a,b,c,d){var e=a("3"),f=a("5"),g=a("8"),h=new f,i=g({}),j=e({_attached:!0,_prefix:"",setPrefix:function(a){return this._prefix=a,this},getPrefix:function(){return this._prefix},publish:function(a,b,c){if(!this._attached)return;var d=[this.getPrefix(),".",a].join("");h.emit(d,b);if(c){var e=c.get(d)||[];e.push(b)}},subscribe:function(a,b){if(!this._attached)return;var c=[this.getPrefix(),".",a].join("");h.on(c,b);var d=g(i.get(c)||[]);d.each(function(a){b(a)})},attachUnit:function(){this._attached=!0},detachUnit:function(){this._attached=!1},unsubscribe:function(a,b){if(!this._attached)return;var c=[this.getPrefix(),".",a].join("");h.off(c,b)}});b.exports=j},5:function(a,b,c,d){"use strict";var e=a("3"),f=a("6");b.exports=e({on:function(a,b){var c=this._listeners||(this._listeners={}),d=c[a]||(c[a]=[]);return(!d.length||f.indexOf(d,b)===-1)&&d.push(b),this},off:function(a,b){var c=this._listeners,d;if(c&&(d=c[a])&&d.length){var e=f.indexOf(d,b);e>-1&&d.splice(e,1)}return this},emit:function(a){var b=this._listeners,c;if(b&&(c=b[a])&&c.length){var d=arguments.length>1?f.slice(arguments,1):[];f.forEach(c.slice(),function(a){a.apply(this,d)},this)}return this}})},6:function(a,b,c,d){"use strict";var e=a("7"),f=Array.prototype,g=e({filter:f.filter||function(a,b){var c=[];for(var d=0,e=this.length>>>0;d<e;d++)if(d in this){var f=this[d];a.call(b,f,d,this)&&c.push(f)}return c},indexOf:f.indexOf||function(a,b){for(var c=this.length>>>0,d=b<0?Math.max(0,c+b):b||0;d<c;d++)if(d in this&&this[d]===a)return d;return-1},map:f.map||function(a,b){var c=this.length>>>0,d=Array(c);for(var e=0,f=c;e<f;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d},forEach:f.forEach||function(a,b){for(var c=0,d=this.length>>>0;c<d;c++)c in this&&a.call(b,this[c],c,this)},every:f.every||function(a,b){for(var c=0,d=this.length>>>0;c<d;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0},some:f.some||function(a,b){for(var c=0,d=this.length>>>0;c<d;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1}});g.isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};var h={},i="pop,push,reverse,shift,sort,splice,unshift,concat,join,slice,lastIndexOf,reduce,reduceRight".split(",");for(var j=0,k,l;k=i[j++];)if(l=f[k])h[k]=l;g.implement(h),b.exports=g},7:function(a,b,c,d){"use strict";var e=a("3"),f=Array.prototype.slice,g=e({mutator:function(a,b){this[a]=function(a){var c=arguments.length>1?f.call(arguments,1):[];return b.apply(a,c)},this.prototype[a]=b},constructor:{prototype:{}}});b.exports=function(a){var b=a.inherits||(a.inherits=g);return a.constructor=e.create(b),e(a)}},8:function(a,b,c,d){"use strict";var e=a("3"),f=a("9"),g=a("a"),h=a("c"),i=a("e"),j=a("f"),k=a("g"),l=i(),m=function(a){var b=l._keys,c=l._values,d;for(var e=b.length,f;f=b[--e];)if(f(a)){d=c[e].ghost;break}return d?new d(a):a};m.register=function(a,b){if(l.get(a))return m;var c=e({mutator:function(a,b){this.prototype[a]=function(){return m(b.apply(this.valueOf(),arguments))}},constructor:function(a){this.valueOf=function(){return a},this.toString=function(){return a+""},this.is=function(b){return a===b}}}),d=b.mutator;return b.mutator=function(a,b){d.call(this,a,b),c.mutator(a,b)},c.implement(b.prototype),l.set(a,{base:b,ghost:c,mutator:d}),m},m.unregister=function(a){var b=l.remove(a);return b&&(b.base.mutator=b.mutator),m},m.register(function(a){return a&&(f(a)==="array"||f(a.length)==="number")},j),m.register(function(a){return f(a)==="object"},k),m.register(function(a){return f(a)==="number"},h),m.register(function(a){return f(a)==="string"},g),m.register(function(a){return a&&a.toString()=="[object Map]"},i),b.exports=m},9:function(a,b,c,d){"use strict";var e=Object.prototype.toString,f=/number|object|array|string|function|date|regexp|boolean/,g=function(a){if(a==null)return"null";var b=e.call(a).slice(8,-1).toLowerCase();return b==="number"&&isNaN(a)?"null":f.test(b)?b:"object"};b.exports=g},a:function(a,b,c,d){"use strict";var e=a("7"),f=e({inherits:a("b"),contains:function(a,b){return(b?(b+this+b).indexOf(b+a+b):(this+"").indexOf(a))>-1},clean:function(){return f.trim((this+"").replace(/\s+/g," "))},camelize:function(){return(this+"").replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})},hyphenate:function(){return(this+"").replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})},capitalize:function(){return(this+"").replace(/\b[a-z]/g,function(a){return a.toUpperCase()})},escape:function(){return(this+"").replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},number:function(){return parseFloat(this)}});typeof JSON!="undefined"&&f.implement({decode:function(){return JSON.parse(this)}}),b.exports=f},b:function(a,b,c,d){"use strict";var e=a("7"),f=String.prototype,g=e({trim:f.trim||function(){return(this+"").replace(/^\s+|\s+$/g,"")}}),h={},i="charAt,charCodeAt,concat,indexOf,lastIndexOf,match,quote,replace,search,slice,split,substr,substring,toLowerCase,toUpperCase".split(",");for(var j=0,k,l;k=i[j++];)if(l=f[k])h[k]=l;g.implement(h),b.exports=g},c:function(a,b,c,d){"use strict";var e=a("7"),f=e({inherits:a("d"),limit:function(a,b){return Math.min(b,Math.max(a,this))},round:function(a){return parseFloat(f.toPrecision(this,a))},times:function(a,b){for(var c=0;c<this;c++)a.call(b,c,null,this);return this},random:function(a){return Math.floor(Math.random()*(a-this+1)+this)}});b.exports=f},d:function(a,b,c,d){"use strict";var e=a("7"),f=Number.prototype,g=e({toExponential:f.toExponential,toFixed:f.toFixed,toPrecision:f.toPrecision});b.exports=g},e:function(a,b,c,d){"use strict";var e=a("3"),f=a("6"),g=f.prototype,h=e({constructor:function(){if(!(this instanceof h))return new h;this.length=0,this._keys=[],this._values=[]},set:function(a,b){var c=g.indexOf.call(this._keys,a);return c===-1?(this._keys[this.length]=a,this._values[this.length]=b,this.length++):this._values[c]=b,this},get:function(a){var b=g.indexOf.call(this._keys,a);return b===-1?null:this._values[b]},count:function(){return this.length},each:function(a,b){for(var c=0,d=this.length;c<d;c++)if(a.call(b,this._values[c],this._keys[c],this)===!1)break;return this},map:function(a,b){var c=new h;return this.each(function(d,e){c.set(e,a.call(b,d,e,this))},this),c},filter:function(a,b){var c=new h;return this.each(function(d,e){c.set(e,a.call(b,d,e,this))},this),c},every:function(a,b){var c=!0;return this.each(function(d,e){if(!a.call(b,d,e,this))return c=!1},this),c},some:function(a,b){var c=!1;return this.each(function(d,e){if(a.call(b,d,e,this))return!(c=!0)},this),c},index:function(a){var b=g.indexOf.call(this._values,a);return b>-1?this._keys[b]:null},remove:function(a){var b=g.indexOf.call(this._keys,a);return b!==-1?(this._keys.splice(b,1),this._values.splice(b,1)[0]):null},keys:function(){return this._keys.slice()},values:function(){return this._values.slice()},toString:function(){return"[object Map]"}});b.exports=h},f:function(a,b,c,d){"use strict";var e=a("7"),f=e({inherits:a("6"),set:function(a,b){return this[a]=b,this},get:function(a){return a in this?this[a]:null},count:function(){return this.length},each:function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&a.call(b,c,this[c],this)===!1)break;return this},index:function(a){var b=f.indexOf(a);return b==-1?null:b},remove:function(a){return f.splice(this,a,1)[0]},keys:function(){return f.map(this,function(a,b){return b})},values:function(){return f.slice(this)}});b.exports=f},g:function(a,b,c,d){"use strict";var e=a("3"),f=a("7"),g=f({set:function(a,b){return this[a]=b,this},get:function(a){return e.has(this,a)?this[a]:null},count:function(){var a=0;return e.each(this,function(){a++}),a},each:function(a,b){return e.each(this,a,b)},map:function(a,b){var c={};return e.each(this,function(d,e,f){c[e]=a.call(b,d,e,f)}),c},filter:function(a,b){var c={};return e.each(this,function(d,e,f){a.call(b,d,e,f)&&(c[e]=d)}),c},every:function(a,b){var c=!0;return e.each(this,function(b,d,e){if(!a.call(context,b,d,e))return c=!1}),c},some:function(a,b){var c=!1;return e.each(this,function(b,d,e){if(!c&&a.call(context,b,d,e))return!(c=!0)}),c},index:function(a){var b=null;return e.each(this,function(c,d){if(a===c)return b=d,!1}),b},remove:function(a){delete this[a]},keys:function(){var a=[];return e.each(this,function(b,c){a.push(c)}),a},values:function(){var a=[];return e.each(this,function(b,c){a.push(b)}),a}});g.each=e.each,typeof JSON!="undefined"&&g.implement({encode:function(){return JSON.stringify(this)}}),b.exports=g},h:function(a,b,c,d){b.exports=function(a,b){if(a.indexOf("set ")==0){var c=a.replace("set ",""),d="set"+c.replace(/^([a-z]).*?/,function(a){return a.toUpperCase()}),e={};e[d]=function(){var a=b.apply(this,arguments);return this.publish("change",{type:"set",name:c,value:this[c]}),a},this.implement(e)}else this.prototype[a]=b}},i:function(a,b,c,d){b.exports=function(a,b,c,d){var e=this;return a.subscribe("change",function(a){a.name==b&&(d?c(a.value):c.call(e,a.value))}),e}},j:function(a,b,c,d){b.exports=a("2")("model")},k:function(a,b,c,d){b.exports=a("2")("controller")}})
